# Example configuration for keychain server

server:
  host: "0.0.0.0"
  rest_port: 8443
  grpc_port: 9443
  quic_port: 8444
  mcp_port: 9444

protocols:
  rest: true
  grpc: true
  quic: false
  mcp: false

logging:
  level: "info"        # debug, info, warn, error
  format: "json"       # json, text

tls:
  enabled: true
  cert_file: "/path/to/cert.pem"
  key_file: "/path/to/key.pem"
  ca_file: "/path/to/ca.pem"  # Optional, for mTLS
  min_version: "1.3"  # 1.0, 1.1, 1.2, 1.3

auth:
  enabled: true
  type: "apikey"  # apikey, oauth2, custom, none

# Rate limiting configuration
# Applied uniformly across all APIs (REST, gRPC, QUIC, MCP)
ratelimit:
  enabled: true
  requests_per_min: 600    # Sustained rate: 600 requests per minute (10/sec)
  burst: 100               # Allow bursts up to 100 requests
  cleanup_interval_sec: 600  # Clean up idle clients every 10 minutes
  max_idle_sec: 1800       # Remove clients idle for 30 minutes

metrics:
  enabled: true
  path: "/metrics"
  port: 9090

health:
  enabled: true
  path: "/health"
